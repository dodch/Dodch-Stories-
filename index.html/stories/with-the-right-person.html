<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon links -->
    <link rel="icon" href="../../favicon.svg" type="image/svg+xml" />
    <link rel="shortcut icon" href="../../favicon.ico" />
    <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="../../favicon-96x96.png" />
    <!-- FIX: Corrected typo and added 192x192 icon for high-DPI screens. -->
    <link rel="icon" type="image/png" sizes="192x192" href="../../web-app-manifest-192x192.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png" />
    <link rel="manifest" href="../../site.webmanifest" />
    <title>With the right person</title>
    <meta name="description" content="A reflection on how the right person can transform your world, making the simplest moments the most valuable.">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* --- GLASS EFFECT VARIABLES & STYLES --- */
        :root {
            --glass-bg-light: rgba(255, 255, 255, 0.05);
            --glass-text-light: #ffffff;
            --glass-shadow-light:
                inset 0 0 0 1px color-mix(in srgb, #fff calc(10%), transparent),
                inset 1.8px 3px 0px -2px color-mix(in srgb, #fff calc(90%), transparent),
                inset -2px -2px 0px -2px color-mix(in srgb, #fff calc(80%), transparent),
                inset -3px -8px 1px -6px color-mix(in srgb, #fff calc(60%), transparent),
                inset -0.3px -1px 4px 0px color-mix(in srgb, #000 calc(12%), transparent),
                inset -1.5px 2.5px 0px -2px color-mix(in srgb, #000 calc(20%), transparent),
                inset 0px 3px 4px -2px color-mix(in srgb, #000 calc(20%), transparent),
                inset 2px -6.5px 1px -4px color-mix(in srgb, #000 calc(10%), transparent),
                0px 2px 10px 0px color-mix(in srgb, #000 calc(20%), transparent),
                0px 10px 30px 0px color-mix(in srgb, #000 calc(15%), transparent);
            --button-shadow-light: var(--glass-shadow-light);
            --pop-up-bg-light: rgba(255, 255, 255, 0.7);
            --pop-up-text-light: #1f2937;
            --main-bg-url-light: url('https://i.ibb.co/Ndbtzv2p/IMG-2299.jpg');
            --main-bg-url-dark: url("https://i.ibb.co/F4BLKf9t/IMG-2305.jpg");
            --main-text-color-light: #f0f0f0;
            --main-text-color-dark: #f0f0f0;
            --text-on-glass-light: #9333EA;
            --save-button-bg-light: rgba(147, 51, 234, 0.6);
            --save-button-bg-dark: rgba(192, 132, 252, 0.25);
            --save-button-text-light: #ffffff;
            --save-button-text-dark: #ffffff;
            --back-button-bg-light: rgba(239, 68, 68, 0.6);
            --back-button-bg-dark: rgba(252, 165, 165, 0.25);
            --back-button-text-light: #ffffff;
            --back-button-text-dark: #ffffff;
            /* New variable for the content tint */
            --content-bg-light: rgba(0, 0, 0, 0.2);
            /* New variable for the selected language button text */
            --selected-lang-button-text: var(--save-button-text-light);
            /* New variable for the unselected language button text in light mode */
            --unselected-lang-text-light: #f0f0f0;
        }
        body.dark-mode {
            --glass-bg-dark: rgba(0, 0, 0, 0.25);
            --glass-text-dark: #f0f0f0;
            --glass-shadow-dark:
                inset 0 0 0 1px color-mix(in srgb, #fff calc(10%), transparent),
                inset 1.8px 3px 0px -2px color-mix(in srgb, #fff calc(90%), transparent),
                inset -2px -2px 0px -2px color-mix(in srgb, #fff calc(80%), transparent),
                inset -3px -8px 1px -6px color-mix(in srgb, #fff calc(60%), transparent),
                inset -0.3px -1px 4px 0px color-mix(in srgb, #000 calc(12%), transparent),
                inset -1.5px 2.5px 0px -2px color-mix(in srgb, #000 calc(20%), transparent),
                inset 0px 3px 4px -2px color-mix(in srgb, #000 calc(20%), transparent),
                inset 2px -6.5px 1px -4px color-mix(in srgb, #000 calc(10%), transparent),
                0px 2px 10px 0px color-mix(in srgb, #000 calc(40%), transparent),
                0px 10px 30px 0px color-mix(in srgb, #000 calc(30%), transparent);
            --button-shadow-dark: var(--glass-shadow-dark);
            --pop-up-bg-dark: rgba(31, 41, 55, 0.9);
            --pop-up-text-dark: #f0f0f0;
            --text-on-glass-dark: #C084FC;
            /* New variable for the content tint */
            --content-bg-dark: rgba(0, 0, 0, 0.2);
            /* New variable for the selected language button text */
            --selected-lang-button-text: var(--save-button-text-dark);
            /* New variable for the unselected language button text in dark mode */
            --unselected-lang-text-dark: #C084FC;
        }
        .glass-button-base {
            background-color: var(--glass-bg-light);
            box-shadow: var(--button-shadow-light);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 2.2), box-shadow 0.5s ease, background-color 0.5s ease;
        }
        body.dark-mode .glass-button-base {
            background-color: var(--glass-bg-dark);
            box-shadow: var(--button-shadow-dark);
        }
        .save-button-custom {
            background-color: var(--save-button-bg-light);
            color: var(--save-button-text-light);
        }
        body.dark-mode .save-button-custom {
            background-color: var(--save-button-bg-dark);
            color: var(--save-button-text-dark);
        }
        .back-home-button-custom {
            background-color: var(--back-button-bg-light);
            color: var(--back-button-text-light);
            font-size: 1.25rem;
        }
        body.dark-mode .back-home-button-custom {
            background-color: var(--back-button-bg-dark);
            color: var(--back-button-text-dark);
        }
        .glass-popup {
             border-radius: 2rem;
             padding: 1.5rem;
        }
        .glass-button-base:hover {
             transform: scale(1.1);
             box-shadow:
                inset 0 0 0 1px color-mix(in srgb, #fff calc(10%), transparent),
                inset 1.8px 3px 0px -2px color-mix(in srgb, #fff calc(90%), transparent),
                inset -2px -2px 0px -2px color-mix(in srgb, #fff calc(80%), transparent),
                inset -3px -8px 1px -6px color-mix(in srgb, #fff calc(60%), transparent),
                inset -0.3px -1px 4px 0px color-mix(in srgb, #000 calc(12%), transparent),
                inset -1.5px 2.5px 0px -2px color-mix(in srgb, #000 calc(20%), transparent),
                inset 0px 3px 4px -2px color-mix(in srgb, #000 calc(20%), transparent),
                inset 2px -6.5px 1px -4px color-mix(in srgb, #000 calc(10%), transparent),
                0px 4px 20px 0px color-mix(in srgb, #000 calc(30%), transparent),
                0px 20px 60px 0px color-mix(in srgb, #000 calc(25%), transparent);
        }
        body.dark-mode .glass-button-base:hover {
            box-shadow:
                inset 0 0 0 1px color-mix(in srgb, #fff calc(10%), transparent),
                inset 1.8px 3px 0px -2px color-mix(in srgb, #fff calc(90%), transparent),
                inset -2px -2px 0px -2px color-mix(in srgb, #fff calc(80%), transparent),
                inset -3px -8px 1px -6px color-mix(in srgb, #fff calc(60%), transparent),
                inset -0.3px -1px 4px 0px color-mix(in srgb, #000 calc(12%), transparent),
                inset -1.5px 2.5px 0px -2px color-mix(in srgb, #000 calc(20%), transparent),
                inset 0px 3px 4px -2px color-mix(in srgb, #000 calc(20%), transparent),
                inset 2px -6.5px 1px -4px color-mix(in srgb, #000 calc(10%), transparent),
                0px 4px 20px 0px color-mix(in srgb, #000 calc(40%), transparent),
                0px 20px 60px 0px color-mix(in srgb, #000 calc(35%), transparent);
        }
        /* Custom styles for pop-up buttons to override glass background */
        #popup button.glass-button-base.bg-green-500 {
            background-color: rgba(34, 197, 94, 0.8) !important;
            backdrop-filter: blur(4px) !important;
            -webkit-backdrop-filter: blur(4px) !important;
        }

        #popup button.glass-button-base.bg-red-500 {
            background-color: rgba(239, 68, 68, 0.8) !important;
            backdrop-filter: blur(4px) !important;
            -webkit-backdrop-filter: blur(4px) !important;
        }

        /* Dark mode specific styles for the pop-up buttons */
        body.dark-mode #popup button.bg-green-500 {
            background-color: rgba(74, 222, 128, 0.4) !important;
        }

        body.dark-mode #popup button.bg-red-500 {
            background-color: rgba(252, 165, 165, 0.4) !important;
        }
        /* --- END OF GLASS EFFECT STYLES --- */
        /* --- Basic Styling --- */
        * {
            box-sizing: border-box;
        }
        body {
            margin: 0;
            padding: 0;
            font-family: 'Roboto', sans-serif;
            min-height: 100vh;
            position: relative;
            z-index: 1;
            transition: color 0.5s ease;
            color: var(--main-text-color-light);
        }
        body.dark-mode {
            color: var(--main-text-color-dark);
        }
        /* --- LOADING SCREEN OVERLAY (fixed on top) --- */
        #loading-screen {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.9);
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          z-index: 10000;
          transition: opacity 0.5s ease;
        }
        #loading-screen.hidden {
          opacity: 0;
          pointer-events: none;
        }
        /* --- LOADING INDICATOR CONTAINER (holds hearts) --- */
        .loading-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }
        /* --- LOADING HEART ANIMATION --- */
        .loading-indicator span {
            display: inline-block;
            width: 15px;
            height: 15px;
            margin: 0 5px;
            color: white;
            font-size: 15px;
            opacity: 0;
            transform: scale(0.5);
            animation: pulse-heart 1.4s ease-in-out infinite;
        }
        /* Add delays to create the trailing effect */
        .loading-indicator span:nth-child(1) { animation-delay: 0s; }
        .loading-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .loading-indicator span:nth-child(3) { animation-delay: 0.4s; }
        .loading-indicator span:nth-child(4) { animation-delay: 0.6s; }
        .loading-indicator span:nth-child(5) { animation-delay: 0.8s; }
        @keyframes pulse-heart {
            0% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 0; transform: scale(0.5); }
        }
        /* --- LOADING PERCENTAGE TEXT --- */
        .loading-percentage {
          color: #fff;
          font-size: 24px;
          font-family: "Ubuntu", sans-serif;
          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
         /* --- Wrapper for main page content --- */
        #page-content-wrapper {
            transition: filter 0.5s ease-in-out;
            position: relative;
            z-index: 0;
            width: 100%;
            min-height: 100vh;
        }
        body.loading #page-content-wrapper {
            filter: blur(15px);
            pointer-events: none;
        }
        .fixed-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: -1;
            transition: opacity 0.5s ease;
        }
        .fixed-background.light-background {
             background-image: var(--main-bg-url-light);
             opacity: 1;
        }
        .fixed-background.dark-background {
             background-image: var(--main-bg-url-dark);
             opacity: 0;
        }
        body.dark-mode .fixed-background.light-background {
            opacity: 0;
        }
         body.dark-mode .fixed-background.dark-background {
            opacity: 1;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        @keyframes fadeOut {
            from {
                opacity: 1;
                transform: scale(1);
            }
            to {
                opacity: 0;
                transform: scale(0.9);
            }
        }
        /* New styles for unselected language buttons */
        .unselected-language {
            opacity: 0.8;
            filter: grayscale(60%);
            transform: scale(0.98);
            transition: opacity 0.3s ease, filter 0.3s ease, transform 0.3s ease;
        }
        .unselected-language:hover {
            transform: scale(0.95) !important;
            box-shadow: none !important;
        }
        .selected-language {
             background-color: var(--save-button-bg-light);
             color: var(--selected-lang-button-text);
             transform: scale(1.05);
             opacity: 1;
             filter: grayscale(0%);
             box-shadow: var(--button-shadow-light);
        }
        body.dark-mode .selected-language {
             background-color: var(--save-button-bg-dark);
        }
        #ar-button:hover, #fr-button:hover, #en-button:hover {
            transform: scale(1.05);
        }
        button {
             transition: color 0.3s ease, background-color 0.3s ease, transform 0.1s ease-out, box-shadow 0.3s ease;
        }
        button.tapped {
            transform: scale(0.97);
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        .fade-out {
            animation: fadeOut 0.3s ease-in-out;
        }
        .glow-word {
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
        }
        #content {
            padding: 2rem;
            padding-top: 6rem;
            position: relative;
            z-index: 1;
            margin-left: auto;
            margin-right: auto;
            max-width: 800px;
            border-radius: 0.5rem;
            margin-top: 1rem;
            margin-bottom: 1rem;
            transition: opacity 0.5s ease-in-out;
            opacity: 1;
            background-color: var(--content-bg-light);
            backdrop-filter: blur(2px);
            -webkit-backdrop-filter: blur(2px);
        }
        body.dark-mode #content {
            background-color: var(--content-bg-dark);
        }
        #content.content-fading {
            opacity: 0;
        }
        #text span {
            cursor: pointer;
            display: inline;
            transition: text-shadow 0.3s ease, color 0.3s ease, -webkit-text-fill-color 0.3s ease;
            opacity: 1;
            transform: none;
        }
        #text span:hover {
             color: var(--text-on-glass-light);
        }
        body.dark-mode #text span:hover {
             color: var(--text-on-glass-dark);
        }
        body:not(.dark-mode) #text span:not(.glow-word) {
             text-shadow: 0 0 1px rgba(0, 0, 0, 0.5);
             -webkit-text-stroke: none;
             text-stroke: none;
             -webkit-text-fill-color: initial;
             color: inherit;
        }
        body.dark-mode #text span:not(.glow-word) {
            text-shadow: 0 0 1px rgba(255, 255, 255, 0.5);
             -webkit-text-stroke: none;
             text-stroke: none;
             -webkit-text-fill-color: white;
             color: white;
        }
        #text span.glow-word {
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
            text-shadow: none !important;
             -webkit-text-stroke: none !important;
             text-stroke: none !important;
             -webkit-text-fill-color: initial !important;
             color: initial !important;
             opacity: 1 !important;
             transform: none !important;
             transition-delay: 0ms !important;
             transition-duration: 0.3s !important;
        }
        #save-progress-button {
            z-index: 60;
        }
        body.dark-mode #content h1 {
             color: white;
             transition: color 0.5s ease;
        }
         body:not(.dark-mode) #content h1 {
             color: inherit;
             transition: color 0.5s ease;
        }
        /* New styles for pop-up */
        #popup > div {
             background-color: var(--pop-up-bg-light);
             color: var(--pop-up-text-light);
             backdrop-filter: blur(4px);
             -webkit-backdrop-filter: blur(4px);
             transition: background-color 0.5s ease, color 0.5s ease;
             box-shadow: var(--glass-shadow-light);
        }
        body.dark-mode #popup > div {
             background-color: var(--pop-up-bg-dark);
             color: var(--pop-up-text-dark);
             box-shadow: var(--glass-shadow-dark);
        }
        #popup button.bg-green-500, #popup button.bg-red-500 {
             transition: background-color 0.3s ease;
        }
        #text p {
            margin-bottom: 1rem;
        }
        /* Jello Button Effect */
        .jello-button {
            transition: all 0.9s ease-in-out;
        }
        .jello-button.animate {
            animation: jello-horizontal 0.9s both;
        }
        @keyframes jello-horizontal {
            0% { transform: scale3d(1, 1, 1); }
            30% { transform: scale3d(1.25, 0.75, 1); }
            40% { transform: scale3d(0.75, 1.25, 1); }
            50% { transform: scale3d(1.15, 0.85, 1); }
            65% { transform: scale3d(0.95, 1.05, 1); }
            75% { transform: scale3d(1.05, 0.95, 1); }
            100% { transform: scale3d(1, 1, 1); }
        }
    </style>
</head>
<body class="loading">
    <div id="loading-screen">
        <div class="loading-indicator">
            <span>🫂</span> <span>🫂</span> <span>🫂</span> <span>🫂</span> <span>🫂</span>
        </div>
        <div class="loading-percentage">0%</div>
    </div>
    <div class="fixed-background light-background"></div>
    <div class="fixed-background dark-background"></div>
    <div id="page-content-wrapper">
        <div id="raw-ar-text" style="display: none;">
            ‎   لم يُظهرالناس يومًا كيف يبدو الحب حقًا… لا في الأفلام، ولا في المسلسلات، ولا حتى في القصص.

كلها مجرد أوهام بسيطة خُلقت لتجعلنا نتأثر، نضحك أو نبكي…
وكلها كُتبت أو صُنعت لتُقرأ أو تُشاهد مع من تحب، لا وحدك — لأنها ستؤلمك حين تنتهي.

الحب أساسي في حياتنا، وأعني بالحب أي شيء أو أي شخص… ليس فقط الرومانسية، بل قد يكون بين أناس مقرّبين، شركاء، أو حتى أصدقاء — أصدقاء حقيقيون مقرّبون…
وفي الحقيقة، لا يمكنك أن تحب شخصًا بصدق إن لم يكن صديقك أولًا.

أرواحنا خُلقت لتتوافق مع أشخاص محددين فقط…
ذلك الشخص قادر على أن يغيّرك حقًا — ليس أنت فقط بل العالم من حولك، يمكنه أن يغيّر الزمان والمكان وكأنه سحر.

مع الشخص المناسب:
تصبح أجمل
ملامحك تتغير
جسدك يصبح أخف
تصبح أكثر حساسية
كل شيء يبدو أجمل، حتى ألطف لمسة…
رائحتك تصبح أطيب
ابتسامتك تصير صادقة
وتشعر فعلًا بضحكتك حين تخرج من قلبك
 الطعام يصبح ألذ
الهواء أنقى
الأجواء مميزة لا تُنسى
لحظات بسيطة لكنها لا تُقدَّر بثمن
حتى أغنى الأغنياء لا يستطيعون شراءها.

لا تظن أن الوحدة ستجعل وصولك إلى أهدافك أسهل…
قلة الأصدقاء قد تعطيك وقتًا لمالٍ أكثر، لكنها لن تمنحك السعادة أبدًا.

يسألونني: ماذا تريد أن تصبح حين تكبر؟ فأجيب: أريد أن أنجح، أريد أن أكون ثريًا.
هم يفكرون في المال، أما أنا فأفكر في بساطة الحياة… أن أملك القليل مع الشخص المناسب الذي يجعل أبسط الأشياء أثمن ما في الوجود.

تلك الوجبة الرخيصة التي اشتريتها من المطعم، بعد أن شاركت بعض العملات مع صديقي لأستطيع دفع ثمنها،
كانت ألذ شيء أكلته في حياتي.

تلك الأحاديث التي تبدو بلا معنى، نتكلم عن كل شيء في الحياة،
لكن كل كلمة تحمل قيمة كبيرة.

لا يهمنا حقًا عمّا نتحدث، ما يهم هو أننا نتحدث… أننا موجودان — معًا.
أن نستطيع النظر في أعين بعضنا دون خجل أو غرابة،
أن يكون الصمت الغير مريح مع الآخرين مجرد لحظة سلام بيننا.

ليس لدينا سيارات، فنمشي معًا نصف الطريق إلى البيت، ونقول: “انتبه لنفسك”، ثم نتصل لاحقًا لنتأكد أننا بخير.
نشارك العطور والملابس معًا،
نشاهد الأفلام على هواتفنا الصغيرة لان الإنترنت بطئ.

كل ما هو قبيح يصبح جميلًا معهم…
الرخيص يصبح غاليًا
النكرة يصبح ذا معنى
المكسور يُصلَح
الألعاب البسيطة تصبح بطولات عالمية
البيت الصغير القديم يصبح قصرًا
كل ضحكة تجعلنا أكثر حياة
كل دقيقة تزيد ثقتنا
كل يوم يجعل فُراقنا أصعب.

ومع ذلك، ها أنا هنا… (ابتسامة ساخرة).

نظن أننا قادرون على إنهاء كل شيء والمضي قُدمًا: “ثمانية مليارات إنسان على الأرض، سأتجاوز الأمر وأجد شخصًا آخر”.
تلك الجملة المشهورة… يا لها من كذبة عشنا حياتنا ونحن نسمعها.
ذلك الأمر لن يحدث… تلك المشاعر التي عشتها مع ذلك الشخص لن تتكرر مع أحد آخر.

أقسم أن الله خلق أرواحنا لتتوافق مع قلة نادرة من الناس فقط.

ألا ترى أن هناك أشخاصًا تنسجم معهم بسرعة عجيبة؟ هؤلاء هم الذين خُلِقوا ليكونوا معك.

إن وجدت ذلك الشخص أو الصديق الذي انسجمت معه حقًا، وشعرت معه بكل ما ذكرته سابقًا، فابقَ معه.
لا تتركه!

نعم ستتشاجران،
ستواجهان مشاكل عديدة،
لن تتفقا دائمًا…
لكن كل خلاف سيقوي رابطكما،
سيجعلكما تفهمان بعضكما أكثر،
ستصلان إلى مستوى عالٍ من الفهم المتبادل الصعب بلوغه مع شخص آخر،
ستدركان أننا لسنا كاملين، لكنكما ستتعلمان أن تحبا هذه العيوب… وهذا هو الحب الحقيقي.

إياك أن تنفصل عن شخص مقرّب منك انفصالًا أبديًا، سيطاردك ذلك إلى الأبد…
لأنّ روحيكما ستظلان دائمًا متصلتين.

        </div>
        <div id="raw-fr-text" style="display: none;">
Les gens n’ont jamais vraiment montré ce que l’amour ressent vraiment, ni au cinéma, ni dans les séries, ni même dans les histoires.

Ce ne sont que des fantasmes triviaux pour nous émouvoir, nous faire rire ou pleurer…

Et tout cela est fait pour être lu ou regardé avec quelqu’un que l’on aime, pas seul — parce que ça fait mal quand ça se termine.

L’amour est essentiel dans nos vies, et par « amour » j’entends n’importe quoi, n’importe qui — ce n’est pas seulement la romance ; ça peut être entre des proches, des partenaires, ou des amis — de vrais amis très proches…
Et on ne peut pas vraiment aimer quelqu’un sans d’abord être son ami.

Nos âmes sont faites pour n’appartenir qu’à certaines personnes…

De sorte que cette personne peut réellement te transformer — littéralement… pas seulement toi, mais aussi le monde autour de toi ; elle peut, comme par magie, manipuler le temps et l’espace.

Avec la bonne personne
Tu deviens plus beau / plus belle
Tes traits changent
Ton corps se sent plus léger
Tu deviens plus sensible
Tout paraît mieux, même le toucher le plus léger…
Tu sens meilleur
Ton sourire devient vrai
Tu sens vraiment quand tu ris du fond du cœur
La nourriture a un goût incroyable
L’air devient plus frais
Les ambiences sont si particulières qu’elles ne s’oublient pas
Des moments si simples mais inestimables
Même les plus riches ne peuvent pas les acheter.
Ne crois pas que la solitude facilitera l’atteinte de tes objectifs…

Avoir moins d’amis peut te donner du temps pour gagner plus d’argent, mais ça ne te rendra jamais plus heureux.

On me demande ce que je veux devenir quand je serai grand, je réponds : je veux réussir, je veux devenir riche.

Ils pensent à l’argent, mais moi je pense à la simplicité de la vie, à avoir peu, mais avec la vrai personne qui rend les choses les plus simples les plus précieuses.

Ce repas bon marché que j’ai acheté au restaurant, en partageant quelques pièces avec mon ami pour pouvoir se le permettre,
était la chose la plus délicieuse que j’aie jamais goûtée.

Ces conversations apparemment insignifiantes qu’on a, où l’on parle de tous les sujets de la vie —
pourtant chaque mot compte énormément.

Ce qui importe vraiment, ce n’est pas de quoi on parle ; ce qui compte, c’est que l’on parle, que nous soyons là — ensemble.
Que l’on puisse se regarder dans les yeux sans timidité ni gêne.
Que le silence gênant qu’on aurait avec d’autres devient pour nous un moment de paix.

Nous n’avons pas de voiture, alors on se raccompagne à mi-chemin en se disant « prends soin de toi » puis on s’appelle plus tard pour vérifier que tout va bien.
Ou quand on se prête nos parfums et nos vêtements.
Ou qu’on regarde des films sur nos petits téléphones parce que notre Wi-Fi est nul.

Tout ce qui est laid devient beau avec eux…
Le bon marché devient précieux
L’insignifiant devient plein de sens
Le brisé se répare
Les jeux qu’on fait deviennent champions du monde
La petite maison ancienne devient un château
Chaque rire nous rend plus vivants
Chaque minute renforce notre confiance
Chaque jour rend la séparation de plus en plus impossible.

Et pourtant me voilà, lol…

On croit qu’on peut tout effacer et passer à autre chose — « 8 milliards de personnes sur terre, je m’en remettrai et j’en trouverai une autre. »

Cette fameuse phrase… quel mensonge on nous a toujours raconté.
Tu n’y arriveras pas… ces sentiments que tu as eus avec cette personne ne se répéteront pas avec une autre.

Je jure que Dieu a créé nos âmes pour ne s’accorder qu’avec quelques autres, rares à trouver.

Ne vois-tu pas qu’il y a des gens avec qui on s’entend tout de suite ? Ce sont ceux qui sont destinés à être avec toi.

Si tu trouves (ou as trouvé) cette personne ou cet ami avec qui tu t’entends parfaitement et que tu as ressenti tout ce que j’ai décrit plus haut, alors reste.
Ne pars pas !

Oui, vous vous battrez
Vous aurez des problèmes
Vous ne serez pas toujours d’accord
Mais chaque lutte renforcera votre lien
Vous vous comprendrez mieux
Vous atteindrez un niveau de compréhension difficile à atteindre avec un autre
Vous comprendrez que nous ne sommes pas parfaits mais que l’on apprend à aimer ces imperfections — et c’est ça le véritable amour.

Ne te sépare jamais définitivement d’un proche, cela te hantera pour toujours.

Parce que vos âmes resteront toujours liées…
        </div>
        <div id="raw-en-text" style="display: none;">            
            People never really showed how love really feels like, not in movies not in shows not even in stories.

These are all trivial fantasies to make us emotional, laugh or cry….

And all of them were meant to be read or watched with someone you love, not alone — because they will hurt you when they end.

Love is essential in/for ours lives, and by love I mean anything,anyone — it’s not just romance, it can be between close people, partners ,or friends — real close friends…
And you actually can’t really love someone without being your friend.

Ours souls are only meant to belong with certain people…

So that  person can actually change you — literally… not only you but also the world around you, they can manipulate time and space like magic


With the right one
You become more beautiful
your facial features changes
your body feels lighter 
You become more sensitive 
Everything feels better, even the lightest touch…
You smell better 
Your smile becomes real 
You actually can feel it when you laugh out of your heart
The food tastes really good 
The air becomes fresher 
The vibes are so special they cannot be forgotten 
Moments so simple yet they are priceless 
Not even the richest people can buy them.
Don’t think being alone would make reaching your goals easier…

Less friends might give you time for more money, but it will never make you happier.

They ask me what do I want to be when I grow up, I reply: I want to be successful, I want to be rich.

They think about money, but I think about the simplicity of life, to have a little but with the right person who makes the simplest things the most valuable  

That cheap meal i bought from the restaurant, sharing some coins with my friend to afford it 
Was the most delicious thing I’ve ever had 

Those meaningless conversations we have, talking about every subject in life 
Yet every word means a lot 

We don’t really care about what we’re talking about, what we really care about is that we are talking, that we are…there — together
That we can look in each other’s eyes without being shy or feeling uncomfortable 
That the awkward silence we usually have with other people is just a moment of peace for us.
We have no cars so we walk each other half way home saying take care of yourself and later call to make sure we are alright 
Or when we share perfumes and clothes together 
Or watch movies on our small phones because we have a shitty WiFi 

Everything ugly becomes beautiful with them…
The cheap becomes expensive 
The meaningless becomes meaningful 
The broken gets fixed 
The games we play becomes world champion 
The small old home becomes a castle 
Every giggle makes us more alive 
Every minute makes our trust stronger
Every day makes our separation more impossible.

Yet here I am, lol…
 
We think that we can just end it all and move on  “8billion people on earth,ill get over it and find someone else”  

That famous sentence, oh what a lie we have always been hearing.
You won’t… those feelings you got with that someone won’t be repeated again with another one.

I swear, God has created our souls to only match with a few which are rare to find

Don’t you see that there are people who you get along with too fast, that’s the ones who are meant to be with you

If you find or found that person or friend you really get along with and felt all the things I mentioned before with them, then stay.
Don’t leave ! 

Yes you will fight 
You will have problems 
You won’t always agree 
But every struggle will make your bound stronger 
You’ll understand each other more 
You will reach a high level of understanding that it’s hard to achieve with another 
You will understand that we are not perfect but you’ll learn to fall in love with these imperfections and that’s true love.

Don’t you ever separate with a close one permanently, it will haunt you forever

Because your souls will always be connected…
        </div>
        <div class="fixed top-0 left-0 right-0 flex flex-col items-start p-4 space-y-2 z-50">
             <div class="flex justify-center space-x-4 mb-2">
                <button
                    id="ar-button"
                    onclick="handleButtonClick(this, 'changeLanguage', 'ar')"
                    class="px-6 py-2 rounded-full transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none glass-button-base jello-button"
                >
                    العربية
                </button>
                <button
                    id="fr-button"
                    onclick="handleButtonClick(this, 'changeLanguage', 'fr')"
                    class="px-6 py-2 rounded-full transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none glass-button-base jello-button"
                >
                    Français
                </button>
                <button
                    id="en-button"
                    onclick="handleButtonClick(this, 'changeLanguage', 'en')"
                    class="px-6 py-2 rounded-full transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none glass-button-base jello-button"
                >
                    English
                </button>
             </div>
            <button
                 id="back-home-button"
                 onclick="handleButtonClick(this, 'redirectHome')"
                 class="w-10 h-10 rounded-full transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none glass-button-base back-home-button-custom inline-flex items-center justify-center jello-button" >
                ⌂
            </button>
        </div>
        <div id="content" class="rounded-lg mx-auto content-fading">
            <h1 id="title" class="text-3xl font-bold mb-4">With the right person</h1>
            <div id="text" class="text-lg leading-relaxed">
                <!-- Pre-rendered English content for SEO -->
                <p class="mb-4 text-lg leading-relaxed">People never really showed how love really feels like, not in movies not in shows not even in stories.</p>
                <p class="mb-4 text-lg leading-relaxed">These are all trivial fantasies to make us emotional, laugh or cry….</p>
                <p class="mb-4 text-lg leading-relaxed">And all of them were meant to be read or watched with someone you love, not alone — because they will hurt you when they end.</p>
                <p class="mb-4 text-lg leading-relaxed">Love is essential in/for ours lives, and by love I mean anything,anyone — it’s not just romance, it can be between close people, partners ,or friends — real close friends…
And you actually can’t really love someone without being your friend.</p>
                <p class="mb-4 text-lg leading-relaxed">Ours souls are only meant to belong with certain people…</p>
                <p class="mb-4 text-lg leading-relaxed">So that  person can actually change you — literally… not only you but also the world around you, they can manipulate time and space like magic</p>
                <p class="mb-4 text-lg leading-relaxed">With the right one
You become more beautiful
your facial features changes
your body feels lighter 
You become more sensitive 
Everything feels better, even the lightest touch…
You smell better 
Your smile becomes real 
You actually can feel it when you laugh out of your heart
The food tastes really good 
The air becomes fresher 
The vibes are so special they cannot be forgotten 
Moments so simple yet they are priceless 
Not even the richest people can buy them.
Don’t think being alone would make reaching your goals easier…</p>
                <p class="mb-4 text-lg leading-relaxed">Less friends might give you time for more money, but it will never make you happier.</p>
                <p class="mb-4 text-lg leading-relaxed">They ask me what do I want to be when I grow up, I reply: I want to be successful, I want to be rich.</p>
                <p class="mb-4 text-lg leading-relaxed">They think about money, but I think about the simplicity of life, to have a little but with the right person who makes the simplest things the most valuable</p>
                <p class="mb-4 text-lg leading-relaxed">That cheap meal i bought from the restaurant, sharing some coins with my friend to afford it 
Was the most delicious thing I’ve ever had</p>
                <p class="mb-4 text-lg leading-relaxed">Those meaningless conversations we have, talking about every subject in life 
Yet every word means a lot</p>
                <p class="mb-4 text-lg leading-relaxed">We don’t really care about what we’re talking about, what we really care about is that we are talking, that we are…there — together
That we can look in each other’s eyes without being shy or feeling uncomfortable 
That the awkward silence we usually have with other people is just a moment of peace for us.
We have no cars so we walk each other half way home saying take care of yourself and later call to make sure we are alright 
Or when we share perfumes and clothes together 
Or watch movies on our small phones because we have a shitty WiFi</p>
                <p class="mb-4 text-lg leading-relaxed">Everything ugly becomes beautiful with them…
The cheap becomes expensive 
The meaningless becomes meaningful 
The broken gets fixed 
The games we play becomes world champion 
The small old home becomes a castle 
Every giggle makes us more alive 
Every minute makes our trust stronger
Every day makes our separation more impossible.</p>
                <p class="mb-4 text-lg leading-relaxed">Yet here I am, lol…</p>
                <p class="mb-4 text-lg leading-relaxed">We think that we can just end it all and move on  “8billion people on earth,ill get over it and find someone else”</p>
                <p class="mb-4 text-lg leading-relaxed">That famous sentence, oh what a lie we have always been hearing.
You won’t… those feelings you got with that someone won’t be repeated again with another one.</p>
                <p class="mb-4 text-lg leading-relaxed">I swear, God has created our souls to only match with a few which are rare to find</p>
                <p class="mb-4 text-lg leading-relaxed">Don’t you see that there are people who you get along with too fast, that’s the ones who are meant to be with you</p>
                <p class="mb-4 text-lg leading-relaxed">If you find or found that person or friend you really get along with and felt all the things I mentioned before with them, then stay.
Don’t leave !</p>
                <p class="mb-4 text-lg leading-relaxed">Yes you will fight 
You will have problems 
You won’t always agree 
But every struggle will make your bound stronger 
You’ll understand each other more 
You will reach a high level of understanding that it’s hard to achieve with another 
You will understand that we are not perfect but you’ll learn to fall in love with these imperfections and that’s true love.</p>
                <p class="mb-4 text-lg leading-relaxed">Don’t you ever separate with a close one permanently, it will haunt you forever</p>
                <p class="mb-4 text-lg leading-relaxed">Because your souls will always be connected…</p>
            </div>
        </div>
        <button
            id="save-progress-button"
            onclick="handleButtonClick(this, 'scrollToSavedWord')"
            class="fixed bottom-4 left-4 px-6 py-2 rounded-full transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none glass-button-base save-button-custom jello-button"
            style="z-index: 60;"
        >
            Saved Progress
        </button>
        <div id="popup" class="hidden fixed inset-0 flex items-center justify-center z-50">
            <div class="glass-button-base glass-popup shadow-lg w-64 fade-in">
                <h2 id="popup-title" class="text-lg font-bold mb-2">Save Position</h2>
                <p id="popup-text" class="mb-4 text-sm"></p>
                <div class="flex justify-end space-x-2">
                    <button
                        onclick="handleButtonClick(this, 'savePosition')"
                        class="glass-button-base jello-button bg-green-500 text-white px-4 py-2 rounded-full focus:outline-none"
                    >
                        Save
                    </button>
                    <button
                        onclick="handleButtonClick(this, 'closePopup')"
                        class="glass-button-base jello-button bg-red-500 text-white px-4 py-2 rounded-full focus:outline-none"
                    >
                        Exit
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script>
        const loadingScreen = document.getElementById("loading-screen");
        const loadPercentageText = document.querySelector(".loading-percentage");
        const body = document.body;
        let currentLanguage = 'en';
        let allSavedProgress = {};
        let tempSavedWordId = '';
        let tempSavedWordText = '';
        let highlightedWordElement = null;
        let isDarkMode = false;
        const contentMap = {
            ar: {
                title: 'مع الشخص الصح ',
                rawTextId: 'raw-ar-text',
                saveProgress: 'التقدم المحفوظ',
                savePosition: 'التقدم المحفوظ',
                save: 'حفظ',
                exit: 'خروج',
                atWord: 'كلمة',
                positionSaved: 'الموقع محفوظ',
                forWord: 'لكلمة',
                wordNotFound: 'الكلمة المحفوظة لم يتم العثور عليها في النص الحالي.',
                noWordSaved: 'لم يتم حفظ أي كلمة لهذه اللغة بعد',
                backHome: 'العودة للصفحة الرئيسية'
            },
            fr: {
                title: 'Avec la vrai personne ',
                rawTextId: 'raw-fr-text',
                saveProgress: 'Progression enregistrée',
                savePosition: 'Progression enregistrée',
                save: 'Enregistrer',
                exit: 'Sortir',
                atWord: 'mot',
                positionSaved: 'La position est enregistrée',
                forWord: 'pour le mot',
                wordNotFound: 'Le mot enregistré n\'a pas été trouvé dans le texte actuel.',
                noWordSaved: 'Aucun mot n\'a été enregistré pour cette langue encore',
                backHome: 'Retour à l\'accueil'
            },
            en: {
                title: 'With the right person',
                rawTextId: 'raw-en-text',
                saveProgress: 'Saved Progress',
                savePosition: 'Save Position',
                save: 'Save',
                exit: 'Exit',
                atWord: 'word',
                positionSaved: 'Position saved',
                forWord: 'for the word',
                wordNotFound: 'Saved word not found in current text.',
                noWordSaved: 'No word has been saved for this language yet',
                backHome: 'Back Home'
            },
        };
        const lightBackgroundDiv = document.querySelector('.fixed-background.light-background');
        const darkBackgroundDiv = document.querySelector('.fixed-background.dark-background');
        const contentDiv = document.getElementById('content');
        const textElement = document.getElementById('text');
        const titleElement = document.getElementById('title');
        const backHomeButton = document.getElementById('back-home-button');
        const backHomeTextSpan = document.getElementById('back-home-text');
        const languageButtons = document.querySelectorAll('#ar-button, #fr-button, #en-button');
        const saveButton = document.getElementById('save-progress-button');
        const popupDivInner = document.getElementById('popup').querySelector('div');
        
        function applyTextEffects() {
            const textSpans = textElement.querySelectorAll('span[id^="word-p"]');
            const isDarkModeActive = document.body.classList.contains('dark-mode');
            textSpans.forEach(span => {
                 if (!span.classList.contains('glow-word')) {
                     if (isDarkModeActive) {
                         span.style.textShadow = '0 0 1px rgba(255, 255, 255, 0.5)';
                         span.style.webkitTextStroke = 'none';
                         span.style.textStroke = 'none';
                         span.style.webkitTextFillColor = 'white';
                         span.style.color = 'white';
                     } else {
                         span.style.textShadow = '0 0 1px rgba(0, 0, 0, 0.5)';
                         span.style.webkitTextStroke = 'none';
                         span.style.textStroke = 'none';
                         span.style.webkitTextFillColor = 'initial';
                         span.style.color = 'inherit';
                     }
                 }
             });
        }
        function clearSavedProgress() {
             delete allSavedProgress[currentLanguage];
             localStorage.setItem('allSavedProgress', JSON.stringify(allSavedProgress));
             if (highlightedWordElement) {
                highlightedWordElement.classList.remove('bg-yellow-200', 'bg-yellow-600', 'rounded', 'glow-word');
                applyTextEffects();
                highlightedWordElement = null;
             }
             console.log(`Saved progress for ${currentLanguage.toUpperCase()} cleared.`);
        }
        function changeLanguage(lang, fromLoad = false) {
            if (contentDiv.classList.contains('content-fading') && !fromLoad) {
                 return;
            }
            if (currentLanguage === lang && !fromLoad) {
                 return;
            }
            // First, reset all buttons to unselected state
            languageButtons.forEach(button => {
                button.classList.add('unselected-language');
                button.classList.remove('selected-language');
                // Set the text color for unselected buttons
                button.style.color = body.classList.contains('dark-mode') ? 'var(--unselected-lang-text-dark)' : 'var(--unselected-lang-text-light)';
            });
            // Then, apply selected state to the new button
            const newButton = document.getElementById(`${lang}-button`);
            if(newButton) {
                newButton.classList.remove('unselected-language');
                newButton.classList.add('selected-language');
                 // Set the text color for the newly selected button
                newButton.style.color = body.classList.contains('dark-mode') ? 'var(--save-button-text-dark)' : 'var(--save-button-text-light)';
            }
            currentLanguage = lang;
            if (!fromLoad) {
                 localStorage.setItem('preferredLanguage', lang);
            }
            const content = contentMap[lang];
            contentDiv.classList.add('content-fading');
            const rawTextElement = document.getElementById(content.rawTextId);
            const rawText = rawTextElement ? rawTextElement.textContent.trim() : '';
            setTimeout(() => {
                titleElement.textContent = content.title;
                if (backHomeTextSpan) {
                     backHomeTextSpan.textContent = content.backHome;
                }
                if (lang === 'ar') {
                    contentDiv.dir = 'rtl';
                    textElement.style.textAlign = 'right';
                } else {
                    contentDiv.dir = 'ltr';
                    textElement.style.textAlign = 'left';
                }
                textElement.innerHTML = '';
                if (rawText) {
                    const paragraphs = rawText.split('\n'); // Fixed line break
                    paragraphs.forEach((paragraph, pIndex) => {
                         const lines = paragraph.split('\n'); // Fixed line break
                         lines.forEach((line, lIndex) => {
                             const trimmedLine = line.trim();
                             if (trimmedLine === '') {
                                  const br = document.createElement('br');
                                  textElement.appendChild(br);
                             } else {
                                 const pElement = document.createElement('p');
                                 pElement.classList.add('mb-4', 'text-lg', 'leading-relaxed');
                                 const wordsAndSpaces = trimmedLine.match(/\S+|\s+|[.,!?;:]/g);
                                 if (wordsAndSpaces) {
                                     wordsAndSpaces.forEach((part, partIndex) => {
                                         if (part.trim() === '' && !/[.,!?;:]/.test(part)) {
                                             pElement.appendChild(document.createTextNode(part));
                                         } else {
                                             const span = document.createElement('span');
                                             span.textContent = part;
                                             span.classList.add('cursor-pointer');
                                             const uniqueId = `word-p${pIndex}-l${lIndex}-part${partIndex}`;
                                             span.id = uniqueId;
                                             span.onclick = () => handleWordClick(uniqueId, span.textContent.trim());
                                             pElement.appendChild(span);
                                         }
                                     });
                                 }
                                 textElement.appendChild(pElement);
                             }
                         });
                    });
                } else {
                     const noTextElement = document.createElement('p');
                     noTextElement.classList.add('text-center', 'text-xl', 'text-gray-500');
                     noTextElement.textContent = `No text available for ${lang.toUpperCase()}. Please add content to the raw text div.`;
                     textElement.appendChild(noTextElement);
                     console.warn(`No raw text found for language: ${lang}`);
                }
                document.getElementById('save-progress-button').textContent = content.saveProgress;
                document.getElementById('popup-title').textContent = content.savePosition;
                document.getElementById('popup').querySelector('.bg-green-500').textContent = content.save;
                document.getElementById('popup').querySelector('.bg-red-500').textContent = content.exit;
                highlightWord();
                applyTextEffects();
                // --- FIX: Only scroll if it's the initial load ---
                const savedProgressForCurrentLang = allSavedProgress[currentLanguage];
                if (fromLoad && savedProgressForCurrentLang && savedProgressForCurrentLang.id) {
                      // Introduce a small delay to ensure content is fully rendered before scrolling
                      setTimeout(() => {
                          scrollToSavedWord(false); // Perform scroll without checks
                      }, 100);
                }
                // --- END FIX ---
                contentDiv.classList.remove('content-fading');
                if (isDarkMode) {
                    titleElement.style.color = 'white';
                } else {
                     titleElement.style.color = 'inherit';
                }
            }, 500);
        }
        function handleWordClick(spanId, wordText) {
            tempSavedWordId = spanId;
            tempSavedWordText = wordText;
            document.getElementById('popup-text').textContent = `${contentMap[currentLanguage].savePosition} ${contentMap[currentLanguage].atWord}: "${wordText}"?`;
            document.getElementById('popup').classList.remove('hidden');
            document.getElementById('popup').classList.remove('fade-out');
            document.getElementById('popup').classList.add('fade-in');
        }
        function closePopup() {
            document.getElementById('popup').classList.remove('fade-in');
            document.getElementById('popup').classList.add('fade-out');
            tempSavedWordId = '';
            tempSavedWordText = '';
            setTimeout(() => {
                document.getElementById('popup').classList.add('hidden');
            }, 300);
        }
        function savePosition() {
            if (tempSavedWordId) {
                allSavedProgress[currentLanguage] = {
                    id: tempSavedWordId,
                    text: tempSavedWordText
                };
                console.log(`${contentMap[currentLanguage].positionSaved} ${contentMap[currentLanguage].forWord}: "${tempSavedWordText}" (ID: ${tempSavedWordId}) in language "${currentLanguage}"`);
                localStorage.setItem('allSavedProgress', JSON.stringify(allSavedProgress));
                highlightWord();
            }
            closePopup();
        }
        function scrollToSavedWord(performChecks = true) {
            const savedProgressForCurrentLang = allSavedProgress[currentLanguage];
            if (!savedProgressForCurrentLang || !savedProgressForCurrentLang.id) {
                alert(contentMap[currentLanguage].noWordSaved);
                return;
            }
            const savedWordId = savedProgressForCurrentLang.id;
            const savedWordText = savedProgressForCurrentLang.text;
            const targetElement = document.getElementById(savedWordId);
            if (targetElement) {
                 highlightWord();
                 requestAnimationFrame(() => {
                    targetElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                 });
            } else {
                console.warn(`${contentMap[currentLanguage].wordNotFound} (ID: ${savedWordId}, Text: "${savedWordText}")`);
                if (performChecks) {
                    alert(`${contentMap[currentLanguage].wordNotFound} ("${savedWordText}")`);
                    const confirmClear = confirm(`Clear saved progress for ${currentLanguage.toUpperCase()}?`);
                    if (confirmClear) {
                        clearSavedProgress();
                    }
                } else {
                     console.warn(`Clearing saved progress for ${currentLanguage.toUpperCase()} due to missing element.`);
                     clearSavedProgress();
                }
            }
        }
       function highlightWord() {
           if (highlightedWordElement) {
               highlightedWordElement.classList.remove('bg-yellow-200', 'bg-yellow-600', 'rounded', 'glow-word');
               applyTextEffects();
               highlightedWordElement = null;
           }
           const savedProgressForCurrentLang = allSavedProgress[currentLanguage];
           if (!savedProgressForCurrentLang || !savedProgressForCurrentLang.id) {
               return;
           }
           const savedWordId = savedProgressForCurrentLang.id;
           const targetElement = document.getElementById(savedWordId);
           if (targetElement) {
               highlightedWordElement = targetElement;
               highlightedWordElement.classList.add('rounded', 'glow-word');
               if (document.body.classList.contains('dark-mode')) {
                   highlightedWordElement.classList.remove('bg-yellow-200');
                   highlightedWordElement.classList.add('bg-yellow-600');
               } else {
                   highlightedWordElement.classList.remove('bg-yellow-600');
                   highlightedWordElement.classList.add('bg-yellow-200');
               }
               highlightedWordElement.style.textShadow = 'none';
               highlightedWordElement.style.webkitTextStroke = 'none';
               highlightedWordElement.style.textStroke = 'none';
               highlightedWordElement.style.webkitTextFillColor = 'initial';
               highlightedWordElement.style.color = 'initial';
           } else {
               console.warn(`Element for saved word ID "${savedWordId}" not found for highlighting in language "${currentLanguage}".`);
           }
       }
        function handleDarkModeChange(mediaQuery) {
            isDarkMode = mediaQuery.matches;
            if (isDarkMode) {
                body.classList.add('dark-mode');
                lightBackgroundDiv.style.opacity = 0;
                darkBackgroundDiv.style.opacity = 1;
            } else {
                body.classList.remove('dark-mode');
                lightBackgroundDiv.style.opacity = 1;
                darkBackgroundDiv.style.opacity = 0;
            }
            changeLanguage(currentLanguage, false);
            applyTextEffects();
            highlightWord();
        }
        
        // --- NEW JAVASCRIPT FOR JELLO ANIMATION FIX ---
        function animateJello(element) {
            element.classList.remove('animate');
            void element.offsetWidth; // This is a trick to force a reflow
            element.classList.add('animate');
        }
        
        // Unified function to handle button clicks and animations
        function handleButtonClick(element, action, ...args) {
            animateJello(element);
            
            switch (action) {
                case 'changeLanguage':
                    changeLanguage(...args);
                    break;
                case 'scrollToSavedWord':
                    scrollToSavedWord();
                    break;
                case 'savePosition':
                    savePosition();
                    break;
                case 'closePopup':
                    closePopup();
                    break;
                case 'redirectHome':
                    window.location.href = '../index.html';
                    break;
            }
        }
        // --- END OF NEW JAVASCRIPT ---
        
        let load = 0;
        let interval = setInterval(updateLoadingText, 30);
        function updateLoadingText() {
          load++;
          if (load > 99) {
            clearInterval(interval);
            loadPercentageText.innerText = '100%';
          } else {
            loadPercentageText.innerText = `${load}%`;
          }
        }
        window.addEventListener('load', () => {
             if (load < 100) {
                 loadPercentageText.innerText = '100%';
             }
            setTimeout(() => {
                body.classList.remove('loading');
                loadingScreen.classList.add('hidden');
                setTimeout(() => {
                    loadingScreen.remove();
                 }, 600);
            }, 500);
        });
        document.addEventListener('DOMContentLoaded', () => {
             const savedProgressJson = localStorage.getItem('allSavedProgress');
             try {
                 allSavedProgress = JSON.parse(savedProgressJson) || {};
             } catch (e) {
                 console.error("Failed to parse saved progress from localStorage:", e);
                 allSavedProgress = {};
                 localStorage.removeItem('allSavedProgress');
             }

             // Initialize dark mode based on system preference
             const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
             handleDarkModeChange(darkModeMediaQuery);

             // Listen for changes in system dark mode preference
             darkModeMediaQuery.addListener(handleDarkModeChange);

             const preferredLanguage = localStorage.getItem('preferredLanguage');
             let initialLangToLoad = 'en';
             if (preferredLanguage && contentMap[preferredLanguage]) {
                initialLangToLoad = preferredLanguage;
             }
             // Load the initial language content and scroll to saved word if applicable
             changeLanguage(initialLangToLoad, true);
        });
    </script>
</body>
</html>
